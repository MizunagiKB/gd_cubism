<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="MizunagiKB &lt;mizukb@live.jp&gt;">
<meta name="copyright" content="2023 MizunagiKB">
<title>Usage</title>
<style>
/*
    @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
*/
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";
@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap");

* {
    font-family: 'Noto Sans JP', sans-serif;
}

@media screen and (min-width: 1280px) {
    #toc.toc2 {
        width: 16em;
    }

    body.toc2 {
        padding-left: 16em;
        padding-right: 0;
    }
}

h1, h2, h3, h4, h5, h6, #toctitle {
    font-weight: bold;
    color: rgba(0, 0.2, 0.2, 0.8);
}

h1 {
    font-size: 1.5em;
}

h2 {
    font-size: 2.0em;
}

h3 {
    font-size: 1.5em;
    margin-top: 4em;
}

h4, h5, h6 {
    font-size: 1.25em;
    margin-top: 3em;
}

.sidebarblock > .content > .title {
    font-size: 1.2em;
    font-weight: bold;
    color: rgba(0, 0.2, 0.2, 0.8);
}
/*
code {
    font-size: 9pt;
}

dl {
    margin-top: 3em;
}
*/

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Usage</h1>
<div class="details">
<span id="author" class="author">MizunagiKB &lt;mizukb@live.jp&gt;</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_使用方法">使用方法</a>
<ul class="sectlevel2">
<li><a href="#_簡単な使い方editorから使う場合">簡単な使い方（Editorから使う場合）</a>
<ul class="sectlevel3">
<li><a href="#_ノードの配置">ノードの配置</a></li>
<li><a href="#_live2dモデルの読込">Live2Dモデルの読込</a></li>
<li><a href="#_プレビュー画面にlive2dモデルが表示されているのを確認">プレビュー画面にLive2Dモデルが表示されているのを確認</a></li>
<li><a href="#_スプライトにlive2dモデルを表示">スプライトにLive2Dモデルを表示</a></li>
</ul>
</li>
<li><a href="#_トラブルシューティング">トラブルシューティング</a>
<ul class="sectlevel3">
<li><a href="#_モデルが正常に読み込まれない">モデルが正常に読み込まれない</a></li>
<li><a href="#_まばたきが正常に行われない">まばたきが正常に行われない</a></li>
<li><a href="#_表示される画像が汚い">表示される画像が汚い</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_デモについて">デモについて</a>
<ul class="sectlevel2">
<li><a href="#_デモの説明">デモの説明</a></li>
</ul>
</li>
<li><a href="#_api_reference_c_support_status">API Reference / C# Support status</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="USAGE.html">Japanese</a> / <a href="USAGE.en.html">English</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_使用方法">使用方法</h2>
<div class="sectionbody">
<div class="paragraph">
<p>すぐに動かしてみたい場合は、 <em>demo</em> フォルダにある <em>project.godot</em> を Godot Engine のエディタから開いてください。（デモの動かし方はこのドキュメントの下に記載）</p>
</div>
<div class="paragraph">
<p>独自のプロジェクトで使用する場合は <em>demo</em> フォルダにある <em>addons</em> フォルダ以下の内容を利用したいプロジェクトにコピーしてください。</p>
</div>
<div class="paragraph">
<p>既に <em>addons</em> フォルダがある場合は、 <em>gd_cubism</em> フォルダ以下の内容をコピーしてください。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>addons</em> フォルダは GDCubism の様に Godot Engine を拡張するためのプログラムを収めるために用意されたフォルダです。
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_簡単な使い方editorから使う場合">簡単な使い方（Editorから使う場合）</h3>
<div class="paragraph">
<p>Live2Dモデルを読み込んで <em>Sprite2D</em> で表示を行う方法について説明します。</p>
</div>
<div class="sect3">
<h4 id="_ノードの配置">ノードの配置</h4>
<div class="paragraph">
<p>以下の図を参考にしながら同じ様にノードを配置してください。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_01.png" alt="fig01" width="256">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_live2dモデルの読込">Live2Dモデルの読込</h4>
<div class="paragraph">
<p>ノード一覧から <em>GDCubismUserModel</em> を選択して、Assets項目の右にあるファイル選択ボタンを押してください。<br>
ファイル選択ダイアログが表示されますので、そこから任意の *.model3.json ファイルを選択します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_02.png" alt="fig02" width="256">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_プレビュー画面にlive2dモデルが表示されているのを確認">プレビュー画面にLive2Dモデルが表示されているのを確認</h4>
<div class="paragraph">
<p>Live2Dモデルが正しく読み込まれましたら、プレビュー画面にLive2Dモデルが表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_03.png" alt="fig03" width="256">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_スプライトにlive2dモデルを表示">スプライトにLive2Dモデルを表示</h4>
<div class="paragraph">
<p>次に <em>Sprite2D</em> ノードを選択して、Texture項目を開きます。<br>
一覧から <code><code>New ViewportTexture</code></code> を選択すると <em>Viewport</em> を選択するダイアログが表示されますので、 <em>GDCubismUserModel</em> を選択します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_04.png" alt="fig04" width="256">
</div>
</div>
<div class="paragraph">
<p>Texture欄にLive2Dモデルが表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_05.png" alt="fig05" width="256">
</div>
</div>
<div class="paragraph">
<p><em>Sprite2D</em> の位置にもLive2Dモデルが表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_simple_06.png" alt="fig06" width="512">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_トラブルシューティング">トラブルシューティング</h3>
<div class="sect3">
<h4 id="_モデルが正常に読み込まれない">モデルが正常に読み込まれない</h4>
<div class="paragraph">
<p>モデルのファイル名が日本語になっている場合は正常に読み込まれないため、Cubism Editorで出力したファイルの名前と、*.model3.json内の参照を上書きすることで正常に動作します。</p>
</div>
</div>
<div class="sect3">
<h4 id="_まばたきが正常に行われない">まばたきが正常に行われない</h4>
<div class="paragraph">
<p>*.model3.json内のEyeBlinkのIdsが指定されていない可能性があります。設定して再出力するか、IdsにParamEyeLOpenとParamEyeROpenを追記してください。</p>
</div>
</div>
<div class="sect3">
<h4 id="_表示される画像が汚い">表示される画像が汚い</h4>
<div class="paragraph">
<p>0.5以降でシェーダーにMipmapが有効になりました。</p>
</div>
<div class="paragraph">
<p>有効にする場合は、Live2Dで使用しているテクスチャを Mipmap を有効にして再インポートを行なってください。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_mipmap_01.png" alt="mipmap01" width="256">
</div>
</div>
<div class="paragraph">
<p>Mipmapの効果はかなり高いですが、絵によってはぼやけた感じとなる場合があります。</p>
</div>
<div class="paragraph">
<p>Mipmap適用なし</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_mipmap_02a.jpg" alt="mipmap02a" width="256">
</div>
</div>
<div class="paragraph">
<p>Mipmap適用あり</p>
</div>
<div class="imageblock">
<div class="content">
<img src="res/images/usage_mipmap_02b.jpg" alt="mipmap02b" width="256">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_デモについて">デモについて</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>demo</em> フォルダには、サンプルとして以下のものが収められています。どのサンプルも動かすにはLive2Dモデルの虹色まおが必要となります。</p>
</div>
<div class="paragraph">
<p>このLive2Dモデルは、<a href="https://www.live2d.com" class="bare">https://www.live2d.com</a> からダウンロードする事が出来ます。</p>
</div>
<div class="paragraph">
<p>ダウンロードしたファイルの中身を以下の様に配置してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<em>demo/addons/gd_cubism/example/res/live2d</em>)</p>
<div class="ulist">
<ul>
<li>
<p>mao_pro_jp</p>
<div class="ulist">
<ul>
<li>
<p>runtime</p>
<div class="ulist">
<ul>
<li>
<p>expressions</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p>map_pro_t02.4096</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p>motions</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p>mao_pro_t02.cdi3.json</p>
</li>
<li>
<p>mao_pro_t02.moc3</p>
</li>
<li>
<p>mao_pro_t02.model3.json</p>
</li>
<li>
<p>mao_pro_t02.physics3.json</p>
</li>
<li>
<p>mao_pro_t02.pose3.json</p>
</li>
</ul>
</div>
</li>
<li>
<p>mao_pro_t02.can3</p>
</li>
<li>
<p>mao_pro_t02.cmo3</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>手持ちのモデルで試したい場合は、上を参考にして出力したものを <em>demo/addons/gd_cubism/example/res/live2d</em> 以下に配置してください。</p>
</div>
<div class="sect2">
<h3 id="_デモの説明">デモの説明</h3>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Name</th>
<th class="tableblock halign-center valign-top">Desc</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_effect_custom_01.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>GDCubismEffectCustom</em> を使用したサンプルとなります。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_effect_custom_02.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>GDCubismEffectCustom</em> を使用したサンプルとなります。
簡易的なリップシンクを行なって、音量にあわせて口を動かしています。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_effect_custom_03.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>GDCubismEffectTargetPoint</em> を使用したサンプルとなります。
マウスの位置にあわせてLive2Dモデルが視線を向ける動作をします。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_effect_hit_area.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>GDCubismEffectHitArea</em> を使用したサンプルとなります。
Live2Dモデルに設定された <em>HitArea</em> の使い方サンプルでもあります。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_simple.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nodeの組み合わせのみでLive2Dモデルの表示を行うサンプルとなります。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo_transparent.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Live2Dモデルの周囲を透明にしてキャラクターのみを表示するサンプルとなります。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">viewer.tscn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">簡易的なビューアを兼ねたサンプルとなります。
<em>Expression</em> や <em>Motion</em> を再生できます。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
プログラムは GDScript 版と C# 版が用意されています。 tscnファイルに割り当てられているスクリプトを入れ替える事で動作確認が可能です。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_reference_c_support_status">API Reference / C# Support status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GDCubismにはさまざまなクラスが用意されています。使用方法は以下のリンク先のドキュメントを参照してください。</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">GDScript Class</th>
<th class="tableblock halign-center valign-top">C# Class</th>
<th class="tableblock halign-center valign-top">Features</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect.ja.html">GDCubismEffect</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect_breath.ja.html">GDCubismEffectBreath</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectBreathCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">△</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect_custom.ja.html">GDCubismEffectCustom</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectCustomCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">△</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect_eye_blink.ja.html">GDCubismEffectEyeBlink</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectEyeBlinkCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">△</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect_hit_area.ja.html">GDCubismEffectHitArea</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectHitAreaCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">△</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_effect_target_point.ja.html">GDCubismEffectTargetPoint</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismEffectTargetPointCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">△</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_motion_entry.ja.html">GDCubismMotionEntry</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismMotionEntryCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_motion_queue_entry_handle.ja.html">GDCubismMotionQueueEntryHandle</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismMotionQueueEntryHadleCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_value_abs.ja.html">GDCubismValueAbs</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismValueAbsCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_parameter.ja.html">GDCubismParameter</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismParameterCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">○</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_part_opacity.ja.html">GDCubismPartOpacity</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismPartOpacityCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">○</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="API/ja/API_gd_cubism_user_model.ja.html">GDCubismUserModel</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GDCubismUserModelCS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">○</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>